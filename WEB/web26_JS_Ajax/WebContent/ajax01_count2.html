<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Show Count</title>
<script>
	var xhr;
	function startRequest(){
		//1. XMLHttpRequest 객체를 생성
		xhr = new XMLHttpRequest();
		
		//2. 응답받을 함수를 연결
		xhr.onreadystatechange = callback;
		
		//3. open 메소드 안에서 서버상의 어떤 페이지로 요청이 들어갈지를 지정
		xhr.open("get","CountServlet?id=encore&&pass=playdata",true);
		
		//4. 서버로 요청이 전송
		xhr.send(null);//get방식일 때 null을 줘야함
	}//요청이 진행되는 부분
	function callback(){
		if(xhr.readyState==4){
			if(xhr.status==200){
				var text = xhr.responseText;
				document.getElementById("resultView").innerHTML = "<h3><font color='blue'>"+text+"</font></h3>";
			}
		}
	}
</script>
</head>
<body>
<h2>Show Count</h2>
<input type="button" value="Count 증가" onclick="startRequest()">
<span id = "resultView"></span>
</body>
</html>